# DDD란

#### 정의

**DDD** (Domain-Driven Design) 또는 도메인 주도 설계

**도메인 패턴** 을 중심에 놓고 설계하는 방식

#### 도메인?

**도메인 = 비즈니스**

애플리케이션 개발 과정에서는 도메인 로직 또는 비즈니스 로직이라는 용어가 일반적으로 사용됨.

#### 특징

* 핵심 도메인과 도메인 로직에 초점을 맞춤
* Entity와 도메인 개념의 일치를 지향
* 각 도메인은 서로 협력하지만 책임과 역할이 명확하며 높은 응집도와 낮은 결합도를 갖는 상태를 지향 ⇒ 확장에 대한 유연한 코드 작성 가능

#### DDD의 Layered Architecture

**계층으로 나뉜 형태의 아키텍쳐를 의미**

Layered Architecture는 각 layer는 하나의 관심사에만 집중할 수 있도록 하는 것을 목표로 함.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/2c28fe0b-80dd-45ba-ab65-c38e14b030bb/0c23220a-bc00-4a3e-b725-3330932269b2/Untitled.png)

1. **Presentation**
   * 사용자의 요청을 처리하는 Layer
   * 사용자에게 UI나 클라이언트에게 Response를 보내는 역할을 하는 모든 클래스
   * Client로 부터 request를 받고 response를 하는 모든 API를 담음.
   * API Route 별 로깅, 보안 등의 전처리
2. **Application - Service**
   * 비즈니스 로직을 정의하는 Layer
   * Domain Layer와 Infrastructure 계층을 연결
   * 많은 정보를 갖고 있지 않도록 유지하는 것이 좋음
   * 실질적인 데이터의 상태변화 등의 처리는 도메인 계층에서 진행할 수 있도록 위임 ⭐
   * 일반적으로 트랜젝션 관리, DTO 변환, 모듈간의 연계 이렇게 3가지 정도임.
3. **Domain**
   * 비즈니스 규칙, 정보에 대한 실질적인 도메인에 대한 정보를 가지고 있며 이 모든 것을 책임지는 계층
   * 업무 상황을 반영하여 상태를 제어하는 역할에 집중하는 계층
4. **Infra**
   * 상위 계층을 지원하는 일반화된 기술적 기능을 제공하는 계층
   * 외부 시스템을 호출하는 역할을 담당.
   * 해당 계층에서 얻어온 정보를 응용계층 또는 도메인 계층에 전달하는 것을 주 역할로 담당(Repository)

#### layered architecture의 장점과 단점

* **장점**
  * 각 레이어를 loosely coupling 된 형태로 구축하면서, 각자 자신의 관심사에만 집중할 수 있음
  * 특히 핵심 비즈니스 로직을 순수하게 유지함으로써 유지보수와 확장성 측면에서 이득을 얻을 수 있음
  * 각 레이어에 서로 다른 추상화 수준을 가진 상태와 행동을 위치시킴으로써 코드 재사용성을 높일 수 있음
* **단점**
  * 서비스가 커질수록 복잡도가 증가하여 확장성이 떨어짐
  * 레이어로 분리된 관심사 외에 다른 관심사가 발견된 경우 패키지 분리 및 코드 배치가 어려움.
